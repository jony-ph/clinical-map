<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clinical Map</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-dark.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
</head>
<body>

  <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
    <div class="container-fluid"><a class="navbar-brand" href="#">Logo</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar"><span class="navbar-toggler-icon"></span></button>
      <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Documentation</a></li>
          <li class="nav-item"><a class="nav-link" href="https://github.com/jony-ph/clinical-map-api" target="_blank">Source </a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div style="position: relative; top: 56px" class="container">

    <h1 class="text-center my-5">Clinical Map API</h1>
    <p> 
      Clinical Map API es una API pública para obtener datos sobre estudios e investigaciones científicas que se han
      realizado al rededor del mundo acerca del COVID-19. Por el momento se cuenta con 14685 registros disponibles
      para que puedas utilizarlos en tus desarrollos.
    </p>

    <p> 
      Puedes consumir esta API facilmente utilizando fetch con JavaScript
    </p>

    <pre>
      <code class="language-javascript">

        const url = 'https://clinical-map-api.herokuapp.com/api'

        fetch(url)
          .then( response => response.json() )
          .then( data => console.log(data) )
          .catch( err => console.log(err) )

      </code>
    </pre>

    <h3>Uso</h3>

    <p>Para poder utilizarla, debe visitar los diferentes "endpoints" o puntos finales. Cabe mencionar
      que los endpoints para realizar consultas se encuentran en el subcarpeta /api
    </p>

    <h3>Parámetros</h3>
    <p>
      Algunos de los endpoints necesitan de un argumento o parámetro para poder funcionar correctamente. Para indicar
      qué endpoint necesita parámetros se utilizó la sintaxis de ":parámetro".
    </p>

    <h3>Endpoints</h3>

    <h5>Todos</h5>
    <p>Obtener todos los estudios almacenados en la base de datos</p>
    <pre>
      <code class="text-center">
        https://clinical-map-api.herokuapp.com/api/all
      </code>
    </pre>

    <h5>País</h5>
    <p>Obtiene todos los estudios realizados en un país en específico</p>
    <pre>
      <code class="text-center">
        https://clinical-map-api.herokuapp.com/api/country/:pais
      </code>
    </pre>
    
    <h5>Fecha de registro</h5>
    <p>Obtener todos los estudios de una fecha de registro en específico. La fecha de registro debe tener el formato YYMMDD sin espacios, ni guiones.</p>
    <pre>
      <code class="text-center">
        https://clinical-map-api.herokuapp.com/api/registration/:date<fecha>
      </code>
    </pre>

    <h5>Estudio específico</h5>
    <p>Obtiene el estudio del trialID que se especifique, El trialID es el identificador único de cada registro.</p>
    <pre>
      <code class="text-center">
        https://clinical-map-api.herokuapp.com/api/trial/:trialID
      </code>
    </pre>

    <h2>Consultas rápidas</h2>
    <p>  
      Las consultas rápidas entregan información con datos que creemos puedan ser más  relevantes para el
      usuario. Las consultas rápidas pueden ser llamas de igual manera que las vistas anteriormente, Parámetros debemos
      agregar la subcarpeta "/r/" antes de especificar el parámetro.
      Ejemplo de consulta de un consulta de un registro en específico, con la información más relevante:
    </p>

    <pre>
      <code class="language-javascript">

        const url = 'https://clinical-map-api.herokuapp.com/api/trial/r/NCT00173563'

        fetch(url)
          .then( response => response.json() )
          .then( data => console.log(data) )
          .catch( err => console.log(err) )

      </code>
    </pre>

    <p>Salida:</p>

    <pre>
      <code class="language-javascript">

        [
          {
            "_id": "62da3dca930a2d0d0b48fa5f",
            "TrialID": "NCT00173563",
            "Public title": "Induction of Cytokines in Human Monocytes by SARS-CoV in Adults and Children",
            "Scientific title": "Induction of Cytokines in Human Monocytes by SARS-CoV in Adults and Children",
            "Acronym": "",
            "Primary sponsor": "National Taiwan University Hospital",
            "Date registration": "12/09/2005",
            "Date registration3": 20050912,
            "Export date": "7/7/2022 10:12:07 AM",
            "Source Register": "ClinicalTrials.gov",
            "web address": "http://clinicaltrials.gov/show/NCT00173563",
            "Date enrollement": "January 2005",
            "Study type": "Observational",
            "Countries": "Taiwan",
            "Primary outcome": ""
          }
      ]

      </code>

  </div>

  <script>hljs.highlightAll();</script>
  
</body>
</html>